{"ast":null,"code":"var _jsxFileName = \"/Users/fraol/Desktop/IBM-frontend-backend/frontend/src/components/signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { Button, TextField, Container, Typography, alpha, makeStyles, Link, Grid, CssBaseline, Avatar } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signinscreen() {\n  _s();\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  var dates = {};\n  const [alerts, setAlerts] = useState();\n  const history = useHistory();\n  const linkhistory = useHistory();\n\n  const links = async () => {\n    linkhistory.push('/signup');\n  };\n\n  const gotoPage = async () => {\n    await axios.get('/theuserss').then(response => {\n      const resp = JSON.stringify(response.data[response.data.length - 1].id);\n      const dte = JSON.stringify(response.data[response.data.length - 1].date);\n      history.push('/dash/' + resp + dte);\n    });\n  };\n\n  const signin = async () => {\n    await axios.get('/signin').then(response => {\n      const resp = response.data.rows;\n      dates = response.headers.date;\n      var emails = [];\n      var passwords = [];\n      var ids = [];\n\n      for (let index = 0; index < resp.length; index++) {\n        const element = resp[index];\n        emails.push(element.doc.email);\n        passwords.push(element.doc.password);\n        ids.push(element.doc._id);\n      }\n\n      checks(emails, passwords, ids, dates);\n    });\n  };\n\n  const checks = (emails, passwords, ids, dates) => {\n    if (emails.includes(email)) {\n      const emaillocation = emails.indexOf(email);\n\n      if (passwords[emaillocation] === password) {\n        axios({\n          method: 'post',\n          url: '/theuser',\n          data: {\n            body: {\n              id: ids[emaillocation],\n              date: dates\n            }\n          }\n        });\n        gotoPage();\n      } else setAlerts( /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Wrong username or password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this));\n    } else {\n      setAlerts( /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Wrong username or password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this));\n    }\n  };\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1,\n      maxWidth: 345,\n      '& > * + *': {\n        marginTop: theme.spacing(2)\n      }\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    },\n    title: {\n      flexGrow: 1,\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block'\n      }\n    },\n    search: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: alpha(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.common.white, 0.25)\n      },\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(1),\n        width: 'auto'\n      }\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit',\n      maxWidth: 345,\n      width: '100%'\n    },\n    media: {\n      height: 140\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: '40ch',\n        '&:focus': {\n          width: '20ch'\n        }\n      }\n    }\n  }));\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          id: \"email\",\n          label: \"Email Address\",\n          name: \"email\",\n          autoComplete: \"email\",\n          autoFocus: true,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: signin,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: alerts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              onClick: links,\n              variant: \"body2\",\n              children: \"Don't have an account? Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signinscreen, \"OSfuEQ8pULiZsLwCJ1nyhxLA+hM=\", false, function () {\n  return [useHistory, useHistory, useStyles];\n});\n\n_c = Signinscreen;\nexport default Signinscreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signinscreen\");","map":{"version":3,"sources":["/Users/fraol/Desktop/IBM-frontend-backend/frontend/src/components/signin.js"],"names":["React","useState","axios","useHistory","Button","TextField","Container","Typography","alpha","makeStyles","Link","Grid","CssBaseline","Avatar","LockOutlinedIcon","Alert","AlertTitle","Signinscreen","email","setEmail","password","setPassword","dates","alerts","setAlerts","history","linkhistory","links","push","gotoPage","get","then","response","resp","JSON","stringify","data","length","id","dte","date","signin","rows","headers","emails","passwords","ids","index","element","doc","_id","checks","includes","emaillocation","indexOf","method","url","body","useStyles","theme","root","flexGrow","maxWidth","marginTop","spacing","menuButton","marginRight","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","media","paper","flexDirection","avatar","margin","secondary","main","form","submit","inputInput","paddingLeft","transition","transitions","create","classes","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { Button, TextField, Container, Typography, alpha, makeStyles, Link, Grid,\nCssBaseline, Avatar} from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n\nfunction Signinscreen() {\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n\n  var dates = {}\n\n  const [alerts, setAlerts] = useState();\n  const history = useHistory();\n \n  const linkhistory = useHistory();\n  const links = async () => {\n    linkhistory.push('/signup')\n  };\n\n  const gotoPage = async () => {\n    await axios.get('/theuserss')\n    .then((response)=> {\n        const resp = JSON.stringify(response.data[response.data.length - 1].id);\n        const dte = JSON.stringify(response.data[response.data.length - 1].date);\n        history.push('/dash/'+resp+dte)\n        \n      })}\n\n  const signin = async () => {\n    await axios.get('/signin')\n    .then((response)=> {\n        const resp = response.data.rows\n        dates = response.headers.date\n\n        var emails = [];\n        var passwords = [];\n        var ids = [];\n\n        for (let index = 0; index < resp.length; index++) {\n            const element = resp[index];\n            emails.push(element.doc.email);\n            passwords.push(element.doc.password);\n            ids.push(element.doc._id)\n            \n        }\n        checks(emails, passwords, ids, dates)}\n        )}\n\n  const checks = (emails, passwords, ids, dates) =>{\n    if (emails.includes(email)) {\n        const emaillocation = emails.indexOf(email)\n        if (passwords[emaillocation] === password) {\n            axios({\n              method: 'post',\n              url: '/theuser',\n              data: {body:{id: ids[emaillocation], date: dates}},\n            });\n            gotoPage()\n              \n        } else(\n        setAlerts(\n            <Alert severity=\"error\">\n            <AlertTitle>Wrong username or password</AlertTitle>\n            </Alert>)\n        )\n\n    } else{\n        setAlerts(\n            <Alert severity=\"error\">\n            <AlertTitle>Wrong username or password</AlertTitle>\n            </Alert>\n        )\n    }\n\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n      maxWidth: 345,\n      '& > * + *': {\n        marginTop: theme.spacing(2),\n        },\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n    },\n    search: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: alpha(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: alpha(theme.palette.common.white, 0.25),\n      },\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(1),\n        width: 'auto',\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n      maxWidth: 345,\n      width: '100%',\n    },\n    media: {\n      height: 140,\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        width: '40ch',\n        '&:focus': {\n          width: '20ch',\n        },\n      },\n    },\n  }));\n\n  const classes = useStyles();\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n    <CssBaseline />\n    <div className={classes.paper}>\n    <Avatar className={classes.avatar}>\n        <LockOutlinedIcon />\n    </Avatar>\n    <Typography component=\"h1\" variant=\"h5\">\n        Sign in\n    </Typography>\n    <form className={classes.form} noValidate>\n        <TextField\n        variant=\"outlined\"\n        margin=\"normal\"\n        required\n        fullWidth\n        id=\"email\"\n        label=\"Email Address\"\n        name=\"email\"\n        autoComplete=\"email\"\n        autoFocus\n        onChange={(e) => setEmail(e.target.value)}\n        />\n        <TextField\n        variant=\"outlined\"\n        margin=\"normal\"\n        required\n        fullWidth\n        name=\"password\"\n        label=\"Password\"\n        type=\"password\"\n        id=\"password\"\n        autoComplete=\"current-password\"\n        onChange={(e) => setPassword(e.target.value)}\n        />\n        {/* <FormControlLabel\n        control={<Checkbox value=\"remember\" color=\"primary\" />}\n        label=\"Remember me\"\n        /> */}\n        <Button\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={signin}\n        >\n        Sign In\n        </Button>\n        \n        <React.Fragment>\n            {alerts}\n        </React.Fragment>\n\n        <Grid container>\n        <Grid item xs>\n        </Grid>\n        <Grid item>\n            <Link onClick={links} variant=\"body2\">\n            {\"Don't have an account? Sign Up\"}\n            </Link>\n        </Grid>\n        </Grid>\n    </form>\n    </div>\n    </Container>)\n  }\n\nexport default Signinscreen;\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}